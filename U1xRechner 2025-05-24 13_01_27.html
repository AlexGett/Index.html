
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Behälter Teile Rechner</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 0;
      box-sizing: border-box;
      background-color: #000;
      color: #fff;
    }

    .bild-container {
      position: fixed;
      top: -33px;
      right: 14px;
      z-index: 1000;
    }

    .bild-rechts {
      max-width: 90px;
      height: auto;
    }

    h2, label {
      color: #fff;
    }

    h2 {
      margin-top: 35px; /* Erhöhter Abstand zum oberen Rand */
      margin-bottom: 1px; /* Reduzierter Abstand zur Tabelle */
    }

    table {
      width: 100%;
      max-width: 600px;
      border-collapse: collapse;
      margin-bottom: 12px;
    }

    td, th {
      border: 1px solid #888;
      padding: 8px;
      text-align: center;
      color: #000;
    }

    /* Abstand zwischen Stückzahl und Position */
    td:first-child, th:first-child {
      padding-right: 4px; /* Kleiner Abstand */
    }

    input[type="number"] {
      width: 100%;
      max-width: 80px;
      padding: 4px;
      box-sizing: border-box;
    }

    #ergebnis, #ergebnis2, #gesamtanzahl, #nacharbeitProzent {
      font-weight: bold;
      font-size: 1.2em;
      color: #00ff00;
    }

    .front {
      background-color: #d0f0c0;
    }

    .heck {
      background-color: #fffacd;
    }

    button {
      margin-left: 100px; /* Abstand zum Text */
      padding: 20px 40px;
      font-size: 1.2em;
      cursor: pointer;
    }

    .result-container {
      margin-bottom: 20px;
      display: flex;
      align-items: center;
    }

    @media (max-width: 600px) {
      table, input, button {
        font-size: 0.95em;
      }
    }
  </style>
</head>
<body>
  <div class="bild-container">
    <img src="https://images.seeklogo.com/logo-png/54/2/motherson-logo-png_seeklogo-544537.png" alt="Motherson Logo" class="bild-rechts">
  </div>

  <h2>Stückzahl BMW U1x Front</h2>
  <table class="front">
    <tr><th>Erster Behälter</th><th>Position</th></tr>
    <tr>
      <td><input type="number" id="behaelterOben" min="0" onfocus="this.select()" onchange="saveInput(this)"></td>
      <td><input type="number" id="positionOben" min="0" max="14" value="0" onfocus="this.select()" onchange="checkMax(this); saveInput(this)"></td>
    </tr>
    <tr><th>Letzter Behälter</th><th>Position</th></tr>
    <tr>
      <td><input type="number" id="behaelterUnten" min="0" onfocus="this.select()" onchange="saveInput(this)"></td>
      <td><input type="number" id="positionUnten" min="0" max="14" value="0" onfocus="this.select()" onchange="checkMax(this); saveInput(this)"></td>
    </tr>
  </table>
  <div class="result-container"><label>Ergebnis Front: </label><span id="ergebnis">0</span></div>

  <h2>Stückzahl BMW U1x Heck</h2>
  <table class="heck">
    <tr><th>Erster Behälter</th><th>Position</th></tr>
    <tr>
      <td><input type="number" id="behaelterOben2" min="0" onfocus="this.select()" onchange="saveInput(this)"></td>
      <td><input type="number" id="positionOben2" min="0" max="14" value="0" onfocus="this.select()" onchange="checkMax(this); saveInput(this)"></td>
    </tr>
    <tr><th>Letzter Behälter</th><th>Position</th></tr>
    <tr>
      <td><input type="number" id="behaelterUnten2" min="0" onfocus="this.select()" onchange="saveInput(this)"></td>
      <td><input type="number" id="positionUnten2" min="0" max="14" value="0" onfocus="this.select()" onchange="checkMax(this); saveInput(this)"></td>
    </tr>
  </table>
  <div class="result-container"><label>Ergebnis Heck: </label><span id="ergebnis2">0</span></div>

  <div class="result-container">
    <label>Gesamtanzahl: </label><span id="gesamtanzahl">0</span>
    <button onclick="berechneAlle()">Berechnen</button>
  </div>

  <div class="result-container">
    <label>Nacharbeit: </label>
    <input type="number" id="nacharbeit" min="0" onfocus="this.select()" onchange="berechneNacharbeitProzent()">
  </div>

  <div class="result-container"><label>Nacharbeit Prozent: </label><span id="nacharbeitProzent">0%</span></div>

  <script>
    function checkMax(input) {
      if (parseInt(input.value) > 14) input.value = 14;
      if (parseInt(input.value) < 0) input.value = 0;
    }

    function saveInput(input) {
      localStorage.setItem(input.id, input.value);
    }

    function loadInputs() {
      const ids = [
        'behaelterOben', 'positionOben', 'behaelterUnten', 'positionUnten',
        'behaelterOben2', 'positionOben2', 'behaelterUnten2', 'positionUnten2',
        'nacharbeit'
      ];
      ids.forEach(id => {
        const saved = localStorage.getItem(id);
        if (saved !== null) {
          document.getElementById(id).value = saved;
        }
      });
    }

    function berechneDifferenz(idOben, idPosOben, idUnten, idPosUnten, idErgebnis) {
      let behOben = parseInt(document.getElementById(idOben).value) || 0;
      let posOben = parseInt(document.getElementById(idPosOben).value) || 0;
      let behUnten = parseInt(document.getElementById(idUnten).value) || 0;
      let posUnten = parseInt(document.getElementById(idPosUnten).value) || 0;

      let gesamtOben = behOben * 14 + posOben;
      let gesamtUnten = behUnten * 14 + posUnten;
      let differenz = gesamtUnten - gesamtOben;

      document.getElementById(idErgebnis).textContent = differenz >= 0 ? differenz : 0;
    }

    function berechneAlle() {
      berechneDifferenz('behaelterOben','positionOben','behaelterUnten','positionUnten','ergebnis');
      berechneDifferenz('behaelterOben2','positionOben2','behaelterUnten2','positionUnten2','ergebnis2');
      berechneGesamtanzahl();
      berechneNacharbeitProzent();
    }

    function berechneGesamtanzahl() {
      let ergebnisFront = parseInt(document.getElementById('ergebnis').textContent) || 0;
      let ergebnisHeck = parseInt(document.getElementById('ergebnis2').textContent) || 0;
      let gesamtanzahl = (ergebnisFront + ergebnisHeck) * 2;
      document.getElementById('gesamtanzahl').textContent = gesamtanzahl;
    }

    function berechneNacharbeitProzent() {
      let nacharbeit = parseInt(document.getElementById('nacharbeit').value) || 0;
      let gesamtanzahl = parseInt(document.getElementById('gesamtanzahl').textContent) || 0;
      let nacharbeitProzent = gesamtanzahl > 0 ? (nacharbeit * 100 / gesamtanzahl).toFixed(2) : 0;
      document.getElementById('nacharbeitProzent').textContent = nacharbeitProzent + '%';
    }

    window.onload = loadInputs;
  </script>
</body>
</html>
